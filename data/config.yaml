# Basic Scenario Configuration for ABM Simulation

name: Baseline_ABM
start_year: 2025
projection_years: 5

# Plan Rules
eligibility:
  min_age: 21
  min_service_months: 0 # Months of service required

auto_enrollment:
  enabled: true
  default_rate: 0.06 # Example: 6% as a decimal rate
  # NEW: Distribution of outcomes for those auto-enrolled
  outcome_distribution:
    prob_opt_out: 0.10       # Probability of choosing 0%
    prob_stay_default: 0.60  # Probability of accepting default_rate
    prob_opt_down: 0.05      # Probability of choosing opt_down_target_rate
    prob_increase_to_match: 0.10 # Probability of choosing rate_for_max_match
    prob_increase_high: 0.15   # Probability of choosing increase_high_target_rate
    # IMPORTANT: These probabilities MUST sum to 1.0

  # NEW: Target rates for specific outcomes (as decimal rates)
  opt_down_target_rate: 0.03     # Example: Target rate if opting down
  increase_high_target_rate: 0.10 # Example: Target rate if increasing high
  window_days: 30 # AE window after hire in days

auto_increase:
  enabled: true
  increase_rate: 0.01 # Increase by 1% annually
  cap_rate: 0.10      # Up to a maximum of 10%

# Contribution Formulas (Simple examples)
employer_match_formula: "1.0_of_1.0_up_to_6.0_pct" # 100% match on 100% of deferrals up to 6% of comp
employer_nec_formula: "3.0_pct" # 3% non-elective contribution

# IRS Limits (Example for 2024 - Should be updated or structured per year)
irs_limits:
  2024:
    compensation_limit: 345000
    deferral_limit: 23000
    catchup_limit: 7500
    catchup_eligibility_age: 50
  2025: # Add future years as needed
    compensation_limit: 355000
    deferral_limit: 24000
    catchup_limit: 7500
    catchup_eligibility_age: 50
  2026: # Placeholder limits - Update with actual values
    compensation_limit: 365000
    deferral_limit: 25000
    catchup_limit: 7500
    catchup_eligibility_age: 50
  2027: # Placeholder limits - Update with actual values
    compensation_limit: 375000
    deferral_limit: 27000
    catchup_limit: 8000
    catchup_eligibility_age: 50
  2028: # Placeholder limits - Update with actual values
    compensation_limit: 385000
    deferral_limit: 28000
    catchup_limit: 8000
    catchup_eligibility_age: 50

# Behavioral Parameters
behavioral_params:
  # For non-participants (if AE doesn't apply)
  voluntary_enrollment_rate: 0.20  # Probability of non-participant starting contribution
  voluntary_default_deferral: 0.05 # Default rate if enrolling voluntarily
  voluntary_window_days: 180 # Max days after hire to enroll voluntarily

  # For existing participants (if AI doesn't apply / opted out)
  voluntary_change_probability: 0.10 # Overall chance of ANY voluntary change per year
  # Conditional probabilities (given a change occurs - should sum to 1.0):
  prob_increase_given_change: 0.40  # Chance the change is an increase
  prob_decrease_given_change: 0.30  # Chance the change is a decrease
  prob_stop_given_change: 0.05     # Chance the change is stopping (rate -> 0)

  voluntary_increase_amount: 0.01 # Amount for voluntary increase
  voluntary_decrease_amount: 0.01 # Amount for voluntary decrease

# Economic / Demographic Assumptions
# h_ex: annual experienced attrition rate (experienced staff)
# h_nh: annual new-hire attrition rate
annual_compensation_increase_rate: 0.03
# h_ex: annual attrition rate for experienced staff
annual_termination_rate: 0.13
# h_nh: annual attrition rate for new hires
new_hire_termination_rate: 0.20 # Attrition rate for new hires
use_expected_attrition: false  # Toggle expected vs realized veteran attrition in hires
new_hire_start_salary: 55000
new_hire_average_age: 30
annual_growth_rate: 0.02 # Target 2% net growth
monthly_transition: false # Enable monthly attrition transitions
hazard_model_params:
  file: data/hazard_model_params.yaml # Path to saved hazard parameters
onboarding:
  enabled: true # Toggle onboarding hazard modifications for new hires
  early_tenure_months: 6 # Months since hire with elevated hazard
  hazard_multiplier: 1.5 # Multiplier applied to base hazard during onboarding period
  productivity_curve: # Fractional productivity ramp over first months (0â€“1)
    - 0.80
    - 0.85
    - 0.90
    - 0.95
    - 1.00
    - 1.00
